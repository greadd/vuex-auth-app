(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6d35"],{"73cf":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[t.loading?a("Loader"):t._e(),a("v-card",{staticClass:"elevation-12"},[a("v-card-title",{staticClass:"justify-center"},[t._v("Регистрация")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{rules:t.usernameRules,label:"Имя пользователя*",type:"text",required:"","prepend-icon":"mdi-account"},model:{value:t.registrationData.username,callback:function(e){t.$set(t.registrationData,"username",e)},expression:"registrationData.username"}}),a("v-text-field",{attrs:{rules:t.firstnameRules,label:"Имя",type:"text","prepend-icon":"mdi-text-account"},model:{value:t.registrationData.first_name,callback:function(e){t.$set(t.registrationData,"first_name",e)},expression:"registrationData.first_name"}}),a("v-text-field",{attrs:{rules:t.lastnameRules,label:"Фамилия",type:"text","prepend-icon":"mdi-text-account"},model:{value:t.registrationData.last_name,callback:function(e){t.$set(t.registrationData,"last_name",e)},expression:"registrationData.last_name"}}),a("v-text-field",{attrs:{rules:t.passwordRules,label:"Пароль*",type:t.showPassword?"text":"password","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",required:"","prepend-icon":"mdi-lock"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.registrationData.password,callback:function(e){t.$set(t.registrationData,"password",e)},expression:"registrationData.password"}}),a("v-card-actions",[a("v-btn",{staticClass:"mx-auto",attrs:{disabled:!t.valid,color:"success",width:"220px"},on:{click:t.register}},[t._v("Зарегистрироваться")])],1),a("v-card-text",{staticClass:"text-center"},[t._v(" Есть аккаунт? "),a("router-link",{attrs:{to:"/login"}},[t._v("Войти")])],1)],1)],1)],1)],1)},s=[],n=a("5530"),i=(a("96cf"),a("1da1")),o={data:function(){return{loading:!1,valid:!0,registrationData:{username:"",first_name:"",last_name:"",password:"",is_active:!0},last_login:new Date,usernameRules:[function(t){return!!t||"Введите имя пользователя"},function(t){return t.length<=150||"Имя пользователя не должно превышать 150 символов"},function(t){return/^[\w.@+-]+$/.test(t)||"Разрешены латинские буквы, цифры и @ . + - _"}],firstnameRules:[function(t){return t.length<=30||"Имя не должно превышать 30 символов"}],lastnameRules:[function(t){return t.length<=150||"Фамилия не должна превышать 150 символов"}],passwordRules:[function(t){return!!t||"Введите пароль"},function(t){return t.length>=8||"Пароль должен быть не менее 8 символов "},function(t){return/^(?=.*[A-Z])(?=.*\d)/.test(t)||"Как минимум одна заглавная буква и одна цифра"},function(t){return t.length<=128||"Пароль должен быть не более 128 символов "}],showPassword:!1}},methods:{register:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$refs.form.validate()){e.next=16;break}return e.prev=1,t.loading=!0,e.next=5,t.$store.dispatch("register",Object(n["a"])({},t.registrationData));case 5:return e.next=7,t.$store.dispatch("setToken",{username:t.registrationData.username,password:t.registrationData.password});case 7:t.$store.dispatch("setSnackbar",{text:"Вы успешно зарегистрировались.",color:"success"}),t.$router.push("/"),e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log(e.t0),t.$store.dispatch("setSnackbar",{text:"Ошибка! Имя пользователя уже занято.",color:"error"}),t.loading=!1;case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()}}},l=o,c=a("2877"),u=a("6544"),d=a.n(u),p=a("8336"),f=a("b0af"),m=a("99d9"),v=a("62ad"),g=a("4bd4"),w=a("8654"),x=Object(c["a"])(l,r,s,!1,null,null,null);e["default"]=x.exports;d()(x,{VBtn:p["a"],VCard:f["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:v["a"],VForm:g["a"],VTextField:w["a"]})}}]);
//# sourceMappingURL=chunk-2d0d6d35.3b7c5fea.js.map